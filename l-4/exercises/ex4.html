<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Match the Following</title>

<link href="https://fonts.googleapis.com/css2?family=Livvic:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">

<style>


body{
  font-family:"Livvic",sans-serif;
  background:
    url(./uploads/bg4.png);
  height:100vh;
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
}

.app{
  width:100%;
  max-width:1100px;
  padding:20px;
}

h1{
  text-align:center;
  color:#ff7a00;
  font-weight:600;
}

.match-table{
  background:#ffffffcc;
  border-radius:30px;
  padding:30px;
  box-shadow:0 15px 35px rgba(0,0,0,.12);
  display:grid;
  grid-template-columns: 2fr 1fr;
  gap:40px;
}

/* LEFT SIDE */
.left .row{
  display:grid;
  grid-template-columns: 1fr 120px;
  align-items:center;
  gap:20px;
  margin-bottom:24px;
}

.lhs{
  display:flex;
  align-items:center;
  gap:16px;
}

.lhs-images{
  display:flex;
  gap:10px;
}

.lhs-images img{
  width:60px;
  height:60px;
  background:white;
  border-radius:14px;
  padding:6px;
  box-shadow:0 6px 15px rgba(0,0,0,.15);
  object-fit:contain;
}

.lhs span{
  font-size:22px;
  font-weight:500;
  color:#2F4F4F;
}

.mid input{
  width:70px;
  height:60px;
  text-align:center;
  font-size:28px;
  font-weight:700;
  border-radius:16px;
  border:4px solid #ccc;
  outline:none;
}

/* RIGHT SIDE */
.right{
  display:flex;
  flex-direction:column;
  gap:22px;
  justify-content:center;
}

.option-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 18px;
  background:white;
  border-radius:16px;
  box-shadow:0 6px 15px rgba(0,0,0,.12);
  font-size:22px;
  font-weight:600;
  color:#2F4F4F;
}

.bulb{
  font-size:36px;
  filter:grayscale(1);
  transition:.3s;
}
.bulb.on{
  filter:none;
  text-shadow:0 0 20px gold;
}

/* FEEDBACK */
#smiley{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%) scale(.4);
  font-size:180px;
  opacity:0;
  transition:.4s cubic-bezier(.17,.89,.32,1.49);
  pointer-events:none;
  z-index:2000;
}
#smiley.show{
  opacity:1;
  transform:translate(-50%,-50%) scale(1);
}

/* CONFETTI */
#confetti{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
}
.confetti-piece{
  position:absolute;
  width:10px;
  height:14px;
  top:-20px;
  animation:fall 1.8s linear forwards;
}
@keyframes fall{
  to{ transform:translateY(100vh) rotate(720deg); opacity:0; }
}
</style>
</head>

<body>
<div class="app">
  <h1>Match the Following</h1>

  <div class="match-table">

    <!-- LEFT -->
    <div class="left">

      <div class="row" data-answer="c">
        <div class="lhs">
          <div class="lhs-images">
            <img src="../uploads/gg.jpg">
          </div>
          <span>Green gram </span>
           <div class="lhs-images">
            <img src="../uploads/blg.jpg">
          </div>
           <span>black gram</span>
        </div>
        <div class="mid"><input maxlength="1"></div>
      </div>

      <div class="row" data-answer="a">
        <div class="lhs">
          <div class="lhs-images">
            <img src="../uploads/cumin.png">
          </div>
          <span>Cumin </span>
          <div class="lhs-images">
            <img src="../uploads/coriander.png">
          </div>
             <span>coriander</span>
        </div>
        <div class="mid"><input maxlength="1"></div>
      </div>

      <div class="row" data-answer="b">
        <div class="lhs">
          <div class="lhs-images">
            <img src="../uploads/rice.png">
          </div>
          <span>Rice, </span>
          <div class="lhs-images">
            <img src="../uploads/wheat.png">
          </div>
         <span>wheat</span>
        </div>
        <div class="mid"><input maxlength="1"></div>
      </div>

    </div>

    <!-- RIGHT -->
    <div class="right">
      <div class="option-row" data-key="a">a) Spices <span class="bulb">ðŸ’¡</span></div>
      <div class="option-row" data-key="b">b) Cereals <span class="bulb">ðŸ’¡</span></div>
      <div class="option-row" data-key="c">c) Pulses <span class="bulb">ðŸ’¡</span></div>
    </div>

  </div>
</div>

<div id="smiley"></div>
<div id="confetti"></div>

<script>
/* ========= AUDIO ENGINE ========= */
let audioCtx=null;
function ensureAudio(){
  if(!audioCtx){
    audioCtx=new (window.AudioContext||window.webkitAudioContext)();
  }
  if(audioCtx.state==="suspended") audioCtx.resume();
  return audioCtx;
}
document.addEventListener("click", ensureAudio, { once:true });

function playZzzSound(){
  const c=ensureAudio(), t=c.currentTime;
  const o=c.createOscillator(), g=c.createGain();
  o.type="square"; o.frequency.value=180;
  g.gain.setValueAtTime(0,t);
  g.gain.linearRampToValueAtTime(.12,t+.01);
  g.gain.exponentialRampToValueAtTime(.0001,t+.35);
  o.connect(g); g.connect(c.destination);
  o.start(t); o.stop(t+.35);
}

function playSuccessSound(){
  const c=ensureAudio(), t=c.currentTime;
  const g=c.createGain();
  g.gain.setValueAtTime(.0001,t);
  g.gain.linearRampToValueAtTime(.18,t+.02);
  g.gain.exponentialRampToValueAtTime(.0001,t+.65);
  g.connect(c.destination);
  [660,880,1100,1320].forEach((f,i)=>{
    const o=c.createOscillator();
    o.type="sine"; o.frequency.setValueAtTime(f,t+i*.02);
    o.connect(g);
    o.start(t+i*.02); o.stop(t+.65);
  });
}

function triggerConfetti(count=120){
  const box=document.getElementById("confetti");
  box.innerHTML="";
  const colors=["#f778a1","#4cc9f0","#ffaa00","#2ed573","#ff4fd8"];
  for(let i=0;i<count;i++){
    const p=document.createElement("div");
    p.className="confetti-piece";
    p.style.left=Math.random()*100+"%";
    p.style.background=colors[Math.random()*colors.length|0];
    p.style.animationDuration=(1.2+Math.random())+"s";
    box.appendChild(p);
  }
  setTimeout(()=>box.innerHTML="",2200);
}

function showSmiley(e){
  const s=document.getElementById("smiley");
  s.textContent=e;
  s.classList.add("show");
  setTimeout(()=>s.classList.remove("show"),900);
}

/* ========= MATCH LOGIC ========= */
const bulbs=document.querySelectorAll(".option-row");

document.querySelectorAll(".left .row").forEach(row=>{
  const input=row.querySelector("input");
  const correct=row.dataset.answer;

  input.addEventListener("input",()=>{
    const val=input.value.toLowerCase();

    bulbs.forEach(b=>b.querySelector(".bulb").classList.remove("on"));

    if(val===correct){
      const target=[...bulbs].find(b=>b.dataset.key===val);
      target.querySelector(".bulb").classList.add("on");
      input.disabled=true;
      playSuccessSound();
      triggerConfetti();
      showSmiley("ðŸ˜„");
    }else{
      playZzzSound();
      showSmiley("ðŸ˜´");
      input.value="";
    }
  });
});
</script>
</body>
</html>
