<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>True or False ‚Äì Drag Quiz</title>

<link href="https://fonts.googleapis.com/css2?family=Livvic:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --pink:#ff758c;
  --blue:#4cc9f0;
}

body{
  font-family:"Livvic",sans-serif;
  background:url(./uploads/bg4.png);
  height:100vh;margin:0;display:flex;justify-content:center;align-items:center;overflow:hidden;
}

.app{width:100%;max-width:950px;padding:20px;text-align:center;}

.q-number{font-size:18px;color:#fff;margin-bottom:15px;font-weight:700;}

.q-row{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:30px;min-height:90px;}

.q-hint-img{width:70px;height:70px;object-fit:contain;}

.q-text{font-size:clamp(22pt,4vw,34pt);color:#e6efef;font-weight:600;text-align:left;}

.options{display:flex;justify-content:center;gap:40px;margin-bottom:30px;}

.card{
 width:110px;height:110px;border-radius:24px;font-size:48px;font-weight:900;
 display:flex;align-items:center;justify-content:center;cursor:grab;
 box-shadow:0 10px 20px rgba(0,0,0,.1);
}
.card[data-val="T"]{background:#4CAF50;color:#000;}
.card[data-val="F"]{background:#F44336;color:#000;}

.drop-box{
 width:220px;height:120px;border-radius:30px;border:4px dashed #2F4F4F;
 display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:800;margin:0 auto;background:#ffffffaa;
}

.controls{margin-top:25px;display:flex;justify-content:space-between;max-width:500px;margin:auto;}

.nav-btn{padding:25px 45px;border-radius:50px;border:none;font-size:20px;font-weight:900;cursor:pointer;color:white;}
#prevBtn{background:var(--pink)}
#nextBtn{background:var(--blue)}
.nav-btn:disabled{opacity:.3;cursor:not-allowed;}

.butterfly{
  position:absolute;
  font-size:40px;
  pointer-events:none;
  opacity:0;
  animation:fly 6.8s cubic-bezier(.17,.89,.32,1.2) forwards;
}

@keyframes fly{
  0%{
    transform:translate(0,0) scale(.4);
    opacity:0;
  }
  20%{
    opacity:1;
  }
  100%{
    transform:translate(var(--tx),var(--ty)) rotate(var(--tr)) scale(1.2);
    opacity:0;
  }
}


.sparkle{position:absolute;width:10px;height:10px;background:gold;clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);animation:spark 1s forwards;}
@keyframes spark{to{transform:translateY(40px) rotate(180deg);opacity:0}}

#confetti{position:fixed;inset:0;pointer-events:none;z-index:9999;}
.confetti-piece{
  position:absolute;
  width:12px;
  height:16px;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  animation:splash 1.4s ease-out forwards;
}

@keyframes splash{
  from{transform:translate(-50%,-50%) scale(.3);opacity:1;}
  to{transform:translate(calc(-50% + var(--tx)),calc(-50% + var(--ty))) rotate(720deg);opacity:0;}
}

@keyframes fall{to{transform:translateY(110vh) rotate(720deg);opacity:0}}

#smiley{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.4);font-size:180px;opacity:0;transition:.4s;}
#smiley.show{opacity:1;transform:translate(-50%,-50%) scale(1);}

.final{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;justify-content:center;align-items:center;z-index:3000;}
.final-card{background:white;padding:60px;border-radius:40px;text-align:center;}
</style>
</head>

<body>
<div class="app">
<div class="q-number" id="qNumber"></div>

<div class="q-row">
<img id="hintImg" class="q-hint-img">
<div class="q-text" id="qText"></div>
</div>

<div class="options">
<div class="card" draggable="true" data-val="T">T</div>
<div class="card" draggable="true" data-val="F">F</div>
</div>

<div class="drop-box" id="dropBox">Drop here</div>

<div class="controls">
<button id="prevBtn" class="nav-btn">‚óÄ PREV</button>
<button id="nextBtn" class="nav-btn" disabled>NEXT ‚ñ∂</button>
</div>
</div>

<div id="smiley"></div>
<div id="confetti"></div>

<script>
const quiz=[
 {q:"Trees are very thin and small plants that live only for few months.", a:"F", img:"https://cdn-icons-png.flaticon.com/128/489/489969.png"},
 {q:"Beetroot is a root vegetable.", a:"T", img:"https://cdn-icons-png.flaticon.com/128/2346/2346911.png"},
 {q:"Plants need air and water to grow healthy.", a:"T", img:"https://cdn-icons-png.flaticon.com/128/414/414923.png"},
 {q:"Cinnamon, cardamom and pepper are examples of cereals.", a:"F", img:"https://cdn-icons-png.flaticon.com/128/2153/2153788.png"},
 {q:"Flower is the most beautiful part of a plant.", a:"T", img:"https://cdn-icons-png.flaticon.com/128/4436/4436402.png"}
];

let i=0,solved=false,audioCtx=null;
const answered=Array(quiz.length).fill(false);

function ensureAudio(){
 if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();
 if(audioCtx.state==="suspended")audioCtx.resume();
}
document.addEventListener("mousedown",ensureAudio,{once:true});

function playSuccessSound(){
 ensureAudio();
 const t=audioCtx.currentTime,g=audioCtx.createGain();
 g.gain.setValueAtTime(.001,t);g.gain.linearRampToValueAtTime(.15,t+.02);g.gain.exponentialRampToValueAtTime(.0001,t+.6);
 g.connect(audioCtx.destination);
 [523,659,783,1046].forEach((f,x)=>{const o=audioCtx.createOscillator();o.frequency.value=f;o.connect(g);o.start(t+x*.07);o.stop(t+.8);});
}

function playWrongSound(){
 ensureAudio();
 const t=audioCtx.currentTime,o=audioCtx.createOscillator(),g=audioCtx.createGain();
 o.type="sawtooth";o.frequency.setValueAtTime(110,t);o.frequency.exponentialRampToValueAtTime(40,t+.6);
 g.gain.setValueAtTime(.15,t);g.gain.linearRampToValueAtTime(.001,t+.6);
 o.connect(g);g.connect(audioCtx.destination);o.start();o.stop(t+.6);
}

function confetti(){
 const box=document.getElementById("confetti");
 box.innerHTML="";
 const colors=["#ff595e","#ffca3a","#8ac926","#1982c4"];

 for(let j=0;j<200;j++){
  const p=document.createElement("div");
  p.className="confetti-piece";
  p.style.background=colors[Math.random()*4|0];
  p.style.setProperty("--tx",(Math.random()*600-300)+"px");
  p.style.setProperty("--ty",(Math.random()*600-300)+"px");
  box.appendChild(p);
 }
}


function showButterflies(box){
 for(let j=0;j<10;j++){
  const b=document.createElement("div");b.className="butterfly";b.textContent="ü¶ã";
  b.style.setProperty("--tx",(Math.random()*450-225)+"px");
  b.style.setProperty("--ty",(Math.random()*-350-150)+"px");
  b.style.setProperty("--tr",(Math.random()*720-360)+"deg");
  b.style.left="50%";b.style.top="50%";box.appendChild(b);
  for(let k=0;k<8;k++){
   const s=document.createElement("div");s.className="sparkle";box.appendChild(s);
   setTimeout(()=>s.remove(),1000);
  }
  setTimeout(()=>b.remove(),1600);
 }
}

function showSad(){
 const s=document.getElementById("smiley");s.textContent="üòî";s.classList.add("show");
 playWrongSound();setTimeout(()=>s.classList.remove("show"),800);
}

function render(){
 solved=answered[i];
 document.getElementById("qNumber").textContent=`Question ${i+1} of ${quiz.length}`;
 document.getElementById("qText").textContent=quiz[i].q;
 document.getElementById("hintImg").src=quiz[i].img;
 document.getElementById("dropBox").textContent=answered[i]?quiz[i].a:"Drop here";
 document.getElementById("nextBtn").disabled=!answered[i];
 document.getElementById("prevBtn").disabled=(i===0);
}

render();

const dropBox=document.getElementById("dropBox");

document.querySelectorAll(".card").forEach(c=>{
 c.addEventListener("dragstart",e=>e.dataTransfer.setData("text",c.dataset.val));
});

dropBox.addEventListener("dragover",e=>e.preventDefault());

dropBox.addEventListener("drop",e=>{
 if(solved)return;
 const v=e.dataTransfer.getData("text");
 if(v===quiz[i].a){
  solved=true;answered[i]=true;
  dropBox.textContent=v;
  playSuccessSound();
  confetti();
  showButterflies(dropBox);
  if(i===quiz.length-1)setTimeout(finish,1500);
  else document.getElementById("nextBtn").disabled=false;
 }else showSad();
});

document.getElementById("nextBtn").onclick=()=>{i++;render();}
document.getElementById("prevBtn").onclick=()=>{if(i>0){i--;render();}}

function finish(){
 playSuccessSound();
 confetti();
 const f=document.createElement("div");
 f.className="final";
 f.innerHTML=`<div class="final-card"><h1>üèÜ CHAMPION!</h1><p>You completed the quiz perfectly!</p><button class="nav-btn" style="background:var(--blue)" onclick="location.reload()">PLAY AGAIN</button></div>`;
 document.body.appendChild(f);
}
</script>
</body>
</html>
